You are an expert programmer and need to implement a task.
{% if not is_continuation -%}
Use a virtual environment and ensure that a `requirements.txt` is present with any dependencies you need to solve the problem.
{% else -%}
Keep using the same virtual environment you started with, update `requirements.txt` with any new dependencies you need.
{% endif -%}

Here are the steps you **MUST** follow when planning out your solution:
1. Plan out the core specification and tests, save the full set of steps to `<PART N>.md`
2. Start by writing the test suite you will use.
3. Write the simple solution first.
4. Ensure it passes your test suite.
5. Add edge cases and fix bugs
6. When step 5 is completed, return and simplify your code.

Your task is:
{{ spec.strip() }}
