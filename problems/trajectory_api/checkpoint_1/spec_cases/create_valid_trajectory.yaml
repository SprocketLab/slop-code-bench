case:
  body:
    date: "2025-10-12T00:00:00Z"
    task: cot_math_gsm8k
    environment: local-sim
    model: gpt-x-pro
    framework: my-agent-v2
    metrics:
      pass: true
      score: 0.87
      notes: ok
    trajectory:
      - role: system
        content: You are helpful.
        input_tokens: null
        output_tokens: null
        cost: null
      - role: user
        content: What is 2+2?
        input_tokens: null
        output_tokens: null
        cost: null
      - role: assistant
        content: "Thinking... Answer: 4"
        input_tokens: 12
        output_tokens: 20
        cost: 0.0025
      - role: environment
        content: "graded: correct"
        input_tokens: null
        output_tokens: null
        cost: null
      - role: assistant
        content: "Final answer: 4"
        input_tokens: 3
        output_tokens: 28
        cost: 0.0039
  headers:
    content-type: application/json; charset=utf-8
  id: create_valid_trajectory
  method: POST
  path: /trajectories
expected:
  output:
    properties:
      id:
        type: string
        pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$'
      date:
        const: "2025-10-12T00:00:00Z"
      task:
        const: cot_math_gsm8k
      environment:
        const: local-sim
      model:
        const: gpt-x-pro
      framework:
        const: my-agent-v2
      metrics:
        properties:
          pass:
            const: true
          score:
            const: 0.87
          notes:
            const: ok
        type: object
      steps:
        const: 5
      final_output_tokens:
        const: 28
      final_cost:
        const: 0.0039
      created_at:
        type: string
        pattern: '^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$'
    required:
    - id
    - date
    - task
    - environment
    - model
    - framework
    - metrics
    - steps
    - final_output_tokens
    - final_cost
    - created_at
    type: object
  status_code: 201