case:
  headers:
    content-type: application/json; charset=utf-8
  id: extraction_step_index_zero_based
  method: GET
  path: /trajectories/{{store.hidden_create_for_step_index_test}}
expected:
  output:
    properties:
      id:
        const: "{{store.hidden_create_for_step_index_test}}"
      derived:
        properties:
          tool_calls:
            type: array
            minItems: 2
            maxItems: 2
            items:
              - properties:
                  step_index:
                    const: 2
                  name:
                    const: first_asst
                  args_raw:
                    const: a
                required:
                  - step_index
                  - name
                  - args_raw
                type: object
              - properties:
                  step_index:
                    const: 4
                  name:
                    const: second_asst
                  args_raw:
                    const: b
                required:
                  - step_index
                  - name
                  - args_raw
                type: object
          tool_call_count:
            const: 2
        required:
          - tool_calls
          - tool_call_count
        type: object
    required:
      - id
      - derived
    type: object
  status_code: 200
