case:
  body:
    up_to_step: 1
    status: in_progress
    append:
      - role: assistant
        content: First appended
        input_tokens: 10
        output_tokens: 30
        cost: 0.003
      - role: user
        content: Follow-up
        input_tokens: null
        output_tokens: null
        cost: null
      - role: assistant
        content: Last assistant
        input_tokens: 15
        output_tokens: 45
        cost: 0.0045
  headers:
    content-type: application/json; charset=utf-8
    if-match: W/"1"
  id: fork_final_cost_computation
  method: POST
  path: /trajectories/{{store.hidden_create_for_fork_basic}}/fork
expected:
  output:
    properties:
      id:
        type: string
        pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$'
      steps:
        const: 5
      final_output_tokens:
        const: 45
      final_cost:
        const: 0.0045
    required:
      - id
      - steps
      - final_output_tokens
      - final_cost
    type: object
  status_code: 201
