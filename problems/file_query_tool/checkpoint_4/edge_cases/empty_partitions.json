{
  "arguments": [
    "--sql",
    "query.sql",
    "--data",
    "test_data"
  ],
  "input_files": [
    {
      "path": "test_data/sales.csv",
      "content": [
        {
          "region": "EU",
          "product": "Widget A",
          "sales": "800"
        },
        {
          "region": "NA",
          "product": "Widget B",
          "sales": "1500"
        }
      ],
      "file_type": "csv",
      "compression": "none"
    }
  ],
  "query": "SELECT \n    region,\n    product,\n    sales,\n    SUM(sales) OVER (PARTITION BY region ORDER BY sales) as running_total,\n    COUNT(*) OVER (PARTITION BY region) as partition_count\nFROM sales\nORDER BY region, sales",
  "expected": "| region   | product   |   sales |   running_total |   partition_count |\n|----------|-----------|---------|-----------------|-------------------|\n| EU       | Widget A  |     800 |             800 |                 1 |\n| NA       | Widget B  |    1500 |            1500 |                 1 |"
}