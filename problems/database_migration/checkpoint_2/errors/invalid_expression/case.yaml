arguments: migrate migration.json app.db
input_files:
- path: app.db
  file_type: sqlite
- content: "{\n  \"version\": 2,\n  \"description\": \"Try to transform with invalid\
    \ expression\",\n  \"operations\": [\n    {\n      \"type\": \"add_column\",\n\
    \      \"table\": \"users\",\n      \"column\": {\n        \"name\": \"full_name\"\
    ,\n        \"type\": \"TEXT\",\n        \"not_null\": false\n      }\n    },\n\
    \    {\n      \"type\": \"transform_data\",\n      \"table\": \"users\",\n   \
    \   \"transformations\": [\n        {\n          \"column\": \"full_name\",\n\
    \          \"expression\": \"nonexistent_column || ' ' || name\"\n        }\n\
    \      ]\n    }\n  ]\n}\n"
  file_type: json
  path: migration.json
tracked_files:
- app.db
expected_status: 1
