arguments: migrate migration.json app.db
input_files:
- path: app.db
  file_type: sqlite
- content: |
    {
      "version": 2,
      "operations": [
        {
          "type": "add_column",
          "table": "customers",
          "column": {
            "name": "address",
            "type": "TEXT"
          }
        },
        {
          "type": "drop_column",
          "table": "customers",
          "column": "phone"
        },
        {
          "type": "add_column",
          "table": "customers",
          "column": {
            "name": "loyalty_points",
            "type": "INTEGER",
            "default": "0"
          }
        }
      ],
      "description": "Modify customers table with multiple operations"
    }
  file_type: json
  path: migration.json
tracked_files:
- app.db
expected_status: 0
