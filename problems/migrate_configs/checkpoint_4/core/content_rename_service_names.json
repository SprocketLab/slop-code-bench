{
  "arguments": "rules.json configs",
  "expected_stdout": "{\"event\":\"file_relocated\",\"from\":\"services/api/config.yaml\",\"to\":\"services/api/api-gateway.yaml\"}\\n{\"event\":\"file_relocated\",\"from\":\"services/worker/config.yaml\",\"to\":\"services/worker/background-worker.yaml\"}\\n",
  "rules": {
    "name_by_service": {
      "type": "content_rename",
      "scope": "file",
      "file_pattern": "services/*/config.yaml",
      "variables": {
        "svc": "service.name"
      },
      "new_path": "${svc}.yaml"
    }
  },
  "expected_files": {
    "configs/services/api/api-gateway.yaml": "service:\\n  name: api-gateway\\n  port: 8080\\nenvironment: development\\n",
    "configs/services/worker/background-worker.yaml": "service:\\n  name: background-worker\\n  port: 8081\\nenvironment: development\\n"
  }
}
